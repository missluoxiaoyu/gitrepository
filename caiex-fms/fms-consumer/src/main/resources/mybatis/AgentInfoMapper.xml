<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.caiex.account.mapper.AgentInfoMapper">
	
	<!-- 渠道 查询全部 -->
	<select id="queryAll" resultMap="agentInfoResult">
	select * from agent_info
	</select>
	
	<!-- 根据AgentNum 查询url-->
	<select id="getUrlByAgentNum" parameterType="com.caiex.account.entity.AgentInfo" resultMap="agentInfoResult">
		SELECT * from agent_info where agentNum=#{agentNum}
	</select>
	
	<!-- 根据agentid 查询agentinfo的信息 -->
	<select id="queryAgentInfoByAgentid" resultMap="agentInfoResult" parameterType="int">
	select * from agent_info where agentNum=#{agentNum}
	</select>	
		
	<!--渠道 更新渠道信息  -->	
	<update id="updateAgentinfo" parameterType="com.caiex.account.entity.AgentInfo">
	update agent_info set url=#{url} ,password=#{password},agentName=#{agentName},updateTime=#{updateTime},updator=#{updator},
	prestore =#{prestore},prestoreAlarm=#{prestoreAlarm},agentSell=#{agentSell} where agentNum = #{agentNum}
	</update>
		
	<!-- 渠道 添加新的渠道信息 -->
	<insert id="addAgent" parameterType="com.caiex.account.entity.AgentInfo">
		insert into agent_info
		(agentNum,agentCode,url,password,agentName,createTime,creator,updateTime,updator,salt,id,prestore,prestoreAlarm,agentSell)
        values(#{agentNum},#{agentCode},#{url},#{password},#{agentName},#{createTime},
              #{creator},#{updateTime},#{updator},#{salt},#{id},#{prestore},#{prestoreAlarm},#{agentSell})
	</insert>
	
	<!-- 渠道 根据渠道名称查询渠道信息 -->
	<select id="queryAgentInfoByAgentName" resultMap="agentInfoResult">
		select * from agent_info where agentName =#{agentName}
	</select>
	
	
	
		
	<resultMap type="com.caiex.account.entity.AgentInfo" id="agentInfoResult">
 	<id column="id" property="id"/>
 	<result column="agentNum" property="agentNum"/>
 	<result column="agentCode" property="agentCode"/>
 	<result column="url" property="url"/>
 	<result column="password" property="password"/>
 	<result column="agentName" property="agentName"/>
 	<result column="createTime" property="createTime"/>
 	<result column="creator" property="creator"/>
 	<result column="updateTime" property="updateTime"/>
 	<result column="updator" property="updator"/>
 	<result column="salt" property="salt"/>
 	<result column="prestore" property="prestore"/>
 	<result column="prestoreAlarm" property="prestoreAlarm"/>
 	<result column="agentSell" property="agentSell"/>
	</resultMap>
 
</mapper>   
